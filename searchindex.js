Search.setIndex({"docnames": ["CODE_OF_CONDUCT", "CONTRIBUTING", "LICENSE", "index", "reference", "source_table", "usage", "workflow"], "filenames": ["CODE_OF_CONDUCT.md", "CONTRIBUTING.md", "LICENSE.md", "index.rst", "reference.rst", "source_table.md", "usage.md", "workflow.rst"], "titles": ["Code of Conduct", "Contributing", "LICENSE", "NLDI Crawler", "Function Reference", "Sources Table", "Usage Examples", "Workflow"], "terms": {"all": [0, 2, 4, 6, 7], "contribut": [0, 3, 6], "interact": 0, "surround": [0, 4], "thi": [0, 2, 4, 5, 6], "project": 0, "abid": 0, "usg": [0, 2, 6], "scientif": 0, "ar": [1, 2, 4], "welcom": 1, "from": [1, 2, 4, 5, 6, 7], "commun": 1, "question": 1, "can": [1, 2, 4, 5, 6, 7], "ask": 1, "issu": 1, "page": [1, 6], "befor": 1, "creat": [1, 4], "new": [1, 2, 4, 5, 6, 7], "pleas": [1, 2], "take": [1, 4], "moment": 1, "search": 1, "make": [1, 2, 7], "sure": [1, 2], "similar": [1, 4], "doe": [1, 4], "alreadi": [1, 4], "exist": 1, "If": [1, 2, 4, 5], "one": [1, 4, 5, 7], "you": [1, 2, 6], "comment": 1, "most": [1, 4], "simpli": 1, "even": 1, "just": 1, "1": [1, 3, 4], "show": [1, 6], "your": 1, "support": [1, 2], "have": 2, "direct": [], "would": 4, "like": [4, 5, 6], "consid": 6, "incorpor": [], "fork": [], "repositori": [], "submit": 4, "pull": [], "request": 7, "review": [], "copi": [2, 4], "http": [2, 5, 6, 7], "water": [2, 6], "gov": [2, 5, 6], "help": [2, 6], "decemb": 2, "6": [2, 6], "2013": 2, "check": [2, 6], "webpag": 2, "updat": 2, "relat": [2, 7], "materi": 2, "data": [2, 3, 4, 5, 7], "document": 2, "contain": [2, 4, 5], "furnish": 2, "connect": [2, 3, 4, 6, 7], "distribut": 2, "made": [2, 4], "avail": [2, 6], "us": [2, 4, 5, 6, 7], "public": [2, 4], "interest": [2, 6], "advanc": 2, "scienc": 2, "mai": [2, 4], "without": [2, 4], "ani": [2, 4], "fee": 2, "cost": 2, "modifi": 2, "deriv": 2, "work": [2, 4], "thereof": 2, "its": [2, 4, 6], "subject": 2, "follow": [2, 5, 7], "restrict": 2, "understand": 2, "modif": 2, "recipi": 2, "receiv": [2, 4], "get": [2, 4, 5, 6, 7], "origin": 2, "must": [2, 6], "clear": 2, "do": [2, 4], "thei": [2, 4, 6], "inform": [2, 5, 6], "extent": 2, "For": [2, 4, 6, 7], "exampl": [2, 3, 4], "file": [2, 4, 5, 6], "includ": [2, 4, 5], "promin": 2, "state": [2, 4], "author": 2, "date": 2, "were": 2, "i": [2, 4, 5, 6, 7], "necessari": 2, "guard": 2, "against": [2, 4], "problem": [2, 4], "introduc": 2, "other": 2, "reflect": [2, 4, 7], "neg": 2, "reput": 2, "The": [2, 4, 5, 6, 7], "properti": [2, 4, 5], "therefor": 2, "sourc": [2, 3, 4, 7], "code": [2, 3, 4], "desir": [2, 4], "charg": 2, "warranti": 2, "servic": 2, "provid": [2, 4], "name": [2, 4, 5, 6], "advertis": 2, "endors": 2, "promot": 2, "product": 2, "commerci": 2, "entiti": 2, "specif": [2, 6], "written": 2, "permiss": 2, "obtain": 2, "agre": 2, "appropri": 2, "acknowledg": 2, "result": 2, "whole": 2, "part": [2, 4], "becaus": [2, 4], "free": 2, "than": 2, "nomin": 2, "handl": 2, "unit": 2, "govern": 2, "express": [2, 4], "impli": 2, "accuraci": 2, "complet": [2, 4], "oblig": 2, "consult": [2, 6], "train": 2, "assist": 2, "kind": 2, "regard": 2, "oper": [2, 4], "perform": [2, 4], "nor": 2, "revis": 2, "version": [2, 4], "bug": 2, "fix": 2, "assum": [2, 4, 6], "risk": 2, "damag": 2, "whatsoev": 2, "loss": 2, "profit": 2, "aris": 2, "access": [2, 4, 5], "qualiti": [2, 6], "annot": [3, 5], "crawler_sourc": [4, 5, 7], "which": [4, 5, 6], "hold": [4, 5], "find": 5, "process": [4, 5, 6], "featur": [4, 5, 6, 7], "type": [4, 5, 6], "column": [4, 5, 6], "descript": [4, 5], "integ": 5, "crawler_source_id": [4, 5], "uniqu": [5, 6], "identifi": [5, 7], "differenti": 5, "string": [4, 5, 6], "source_nam": [4, 5], "A": [4, 5], "human": 5, "readabl": 5, "friendli": 5, "discriptor": 5, "source_suffix": 5, "build": [5, 7], "intern": 5, "It": [5, 6], "should": [4, 5, 6], "special": 5, "charact": [4, 5], "source_uri": 5, "web": [4, 5], "address": 5, "retriev": 5, "feature_id": [5, 6], "return": [4, 5, 7], "geojson": [5, 6, 7], "attribut": [4, 5], "field": 5, "within": [4, 5], "collect": [5, 6], "treat": 5, "kei": [4, 5], "feature_nam": 5, "feature_uri": 5, "url": [4, 5], "directli": 5, "feature_reach": [5, 6], "reach": [5, 6], "feature_measur": [5, 6], "m": 5, "valu": [4, 5], "along": 5, "where": [4, 5], "found": [5, 6], "ingest_typ": 5, "pars": [5, 6], "point": [5, 6], "feature_typ": 5, "unknown": 5, "hydroloc": [5, 6], "vari": 5, "select": [4, 5], "nldi_data": [4, 5], "10": [4, 5, 6], "number": [5, 6], "vigil": [5, 6], "network": [5, 6], "www": [5, 6], "sciencebas": [5, 6], "catalog": [5, 6], "60c7b895d34e86b9389b2a6c": [5, 6], "sbid": [5, 6], "site": [5, 6], "sburl": [5, 6], "reachcod": 5, "reach_measur": 5, "we": [4, 5, 6], "fetch": [4, 5], "see": [5, 6], "look": [5, 6], "locat": [5, 6], "geometri": 5, "5fe395bbd34ea5387deb4950": 5, "ach": 5, "shoulder": 5, "slope": 5, "mexico": [5, 6], "usa": 5, "item": 5, "null": 5, "mitten": 5, "rock": 5, "5fe39807d34ea5387deb4970": 5, "armel": 5, "creek": 5, "montana": 5, "10100001000709": 5, "90": 5, "193048735368549": 5, "yellowston": 5, "river": 5, "basin": 5, "southeastern": 5, "launch": [4, 6, 7], "tool": [6, 7], "argument": [4, 6], "messag": 6, "same": [4, 6], "thing": [4, 6], "launc": 6, "nldi": [4, 6, 7], "cli": [6, 7], "suppli": 6, "command": [4, 6], "arg": [4, 6], "crawler": [4, 6, 7], "v": 6, "verbos": 6, "mode": 6, "path": [4, 6], "exit": [6, 7], "detail": [4, 6], "associ": [4, 6], "list": [4, 6, 7], "": [2, 4, 6], "verifi": 6, "note": [4, 6], "specifi": [4, 6], "go": 6, "vv": 6, "extra": 6, "databas": [4, 6, 7], "configur": [4, 6, 7], "two": [4, 6], "wai": [4, 6], "set": [4, 6], "environ": 6, "variabl": [4, 6], "export": 6, "nldi_db_host": 6, "172": 6, "18": 6, "0": 6, "nldi_db_port": 6, "5432": [4, 6], "nldi_db_us": 6, "usernam": 6, "nldi_db_pass": 6, "secret": 6, "nldi_db_nam": 6, "id": 6, "uri": [4, 6, 7], "portal": 6, "waterqualitydata": 6, "u": [2, 4, 6], "station": 6, "sea": 6, "huc12": 6, "pour": 6, "catalogmap": 6, "map": [4, 6, 7], "5": 6, "nwi": 6, "surfac": 6, "60c": 6, "exchang": 6, "hydroshar": 6, "org": 6, "resourc": 6, "5f665b7b82d7": 6, "7": 6, "geoconnex": 6, "refer": [3, 6], "gage": 6, "3295a17b4cc2": 6, "8": 6, "streamgag": 6, "ca": 6, "sb19": 6, "link": 6, "internetofwat": 6, "dev": 6, "col": 6, "9": 6, "geospati": 6, "fabric": 6, "v1": 6, "11": 6, "groundwat": 6, "12": 6, "init": 6, "newmexicowaterdata": 6, "13": 6, "demo": 6, "sub": 6, "nndi_db_": 6, "also": [4, 6], "paramet": [4, 6], "toml": 6, "content": 6, "db": [4, 6], "hostnam": 6, "port": 6, "password": 6, "db_name": 6, "switch": 6, "info": 6, "root": 6, "warn": [4, 6], "store": [4, 6], "plain": 6, "text": 6, "pass": [4, 6], "env": 6, "instead": 6, "postgresql": [4, 6], "addit": 6, "output": 6, "due": 6, "flag": [4, 6], "being": [4, 6], "about": 6, "futur": 6, "ha": [4, 6], "been": 6, "correct": 6, "suffix": [4, 6], "nhdpv2_reachcod": 6, "measur": 6, "nhdpv2_reach_measur": 6, "attempt": 6, "json": 6, "match": [6, 7], "metadata": 6, "tabl": [3, 4, 6, 7], "expect": [4, 6], "fail": [4, 6], "timeout": 6, "onc": [4, 6], "invalid": 6, "especi": 6, "own": 6, "debug": 6, "home": 6, "trantham": 6, "py": 6, "crawlerdata_10_w2_08yh5": 6, "filenam": 6, "crawlerdata_": 6, "random": 6, "tempfil": 6, "librari": 6, "main": 6, "function": [3, 6], "individu": 6, "insert": [4, 6, 7], "master": [4, 6, 7], "poetri": [], "run": [], "write": 6, "tmp": 6, "crawlerdata_10_wbkl40e2": 6, "httpx": [], "_client": [], "200": [], "dowload": 6, "70": 6, "bulk": 7, "download": [3, 4, 7], "pre": 7, "defin": [4, 7], "theme": [], "default": 4, "mid": [], "width": [], "2500": [], "max": [], "5000": [], "showsequencenumb": [], "true": 4, "sequencediagram": [], "actor": [], "left": [], "featuresourc": [], "featurecollect": [], "loop": [], "foreach": [], "orm": [4, 7], "right": 2, "sql": 4, "add": [], "INTO": [], "end": [], "success": [], "either": 7, "proce": 7, "crawl": 7, "via": [4, 7], "taken": 7, "among": [4, 7], "per": 7, "schema": [4, 7], "relationship": [4, 7], "adjac": 7, "topologi": 7, "workflow": [3, 4], "sequenc": 3, "diagram": 3, "usag": 3, "config": 3, "option": [3, 4], "2": 3, "displai": 3, "valid": [3, 4], "local": [3, 4], "disk": [3, 4], "ingest": [3, 4], "plu": 6, "python": 4, "crawlersourc": [3, 4], "table_nam": [3, 4], "download_geojson": [3, 4], "list_sourc": [3, 4], "validate_src": [3, 4], "routin": 4, "manag": 4, "class": 4, "nldi_crawl": 4, "kwarg": 4, "an": 4, "held": 4, "postgi": 4, "hard": 4, "object": 4, "given": 4, "row": 4, "instanti": 4, "stmt": 4, "order_bi": 4, "src": 4, "session": [3, 4], "scalar": 4, "print": 4, "f": 4, "getter": 4, "format": 4, "repres": 4, "posit": 4, "append": 4, "let": 4, "self": 4, "feature_suffix": 4, "temp": 4, "feature_suffix_temp": 4, "old": 4, "feature_suffix_old": 4, "save": 4, "temporari": 4, "descriptor": 4, "str": 4, "dal": 4, "selector": 4, "mor": 4, "sqlalchemi": 4, "connect_str": 4, "examin": 4, "ensur": 4, "proprli": 4, "tupl": 4, "boolean": 4, "indic": 4, "reason": 4, "failur": 4, "zero": 4, "length": 4, "dataaccesslay": [3, 4], "disconnect": [3, 4], "nldi_bas": [3, 4], "strippedstr": [3, 4], "cache_ok": [3, 4], "impl": [3, 4], "process_bind_param": [3, 4], "create_tmp_t": [3, 4], "ingest_from_fil": [3, 4], "install_data": [3, 4], "psycopg2": 4, "read_only_us": 4, "localhost": 4, "abstract": 4, "layer": 4, "want": 4, "open": 4, "engin": 4, "instati": 4, "time": 4, "close": 4, "base": 4, "ingestor": 4, "custom": 4, "extend": 4, "forcefulli": 4, "remov": 4, "non": 4, "input": 4, "some": 4, "printabl": 4, "backspac": 4, "delet": 4, "mess": 4, "bool": 4, "statement": 4, "externaltyp": 4, "safe": 4, "cach": 4, "none": 4, "emit": 4, "allow": 4, "fals": 4, "disabl": 4, "when": 4, "element": 4, "typedecor": 4, "mytyp": 4, "def": 4, "__init__": 4, "choic": 4, "internal_onli": 4, "abov": 4, "equival": 4, "b": 4, "c": 4, "_static_cache_kei": 4, "__main__": 4, "scheme": 4, "extract": 4, "correspond": 4, "method": 4, "becom": 4, "requir": 4, "cacheabl": 4, "hashabl": 4, "render": 4, "everi": 4, "To": 4, "accommod": 4, "datatyp": 4, "unhash": 4, "structur": 4, "dictionari": 4, "assign": 4, "whose": 4, "accept": 4, "lookup": 4, "publish": 4, "sort": 4, "seri": 4, "previous": 4, "un": 4, "lookuptyp": 4, "userdefinedtyp": 4, "get_col_spec": 4, "kw": 4, "varchar": 4, "255": 4, "bind_processor": 4, "dialect": 4, "abl": 4, "gener": 4, "type_": 4, "20": 4, "stdin": 4, "sawarn": 4, "produc": 4, "symbol": 4, "no_cach": 4, "did": 4, "up": 4, "wouldn": 4, "t": 4, "usabl": 4, "insid": 4, "cannot": 4, "itself": 4, "sinc": 4, "aren": 4, "howev": 4, "some_cach": 4, "traceback": 4, "recent": 4, "call": 4, "last": 4, "line": 4, "modul": 4, "typeerror": 4, "dict": 4, "both": 4, "privat": 4, "themselv": 4, "_lookup": 4, "otherwis": 4, "need": 4, "convert": 4, "here": 4, "4": 4, "14": 4, "ad": 4, "28": 4, "mixin": 4, "sql_cach": 4, "alia": 4, "bound": 4, "subclass": 4, "_type": 4, "overrid": 4, "behavior": 4, "incom": 4, "execut": 4, "liter": 4, "could": 4, "anyth": 4, "transform": 4, "serial": 4, "hook": 4, "logic": 4, "upon": 4, "types_typedecor": 4, "process_result_valu": 4, "reli": 4, "postgress": 4, "mechan": 4, "achiev": 4, "someth": 4, "quick": 4, "easi": 4, "elimin": 4, "truli": 4, "ident": 4, "model": 4, "import": 4, "establish": 4, "inherit": 4, "later": 4, "fname": 4, "dataset": 4, "int": 4, "instal": 4, "manipul": 4, "design": 4, "variou": 4, "feature_": 4, "parent": 4, "queri": 4, "child": 4, "popul": 4, "_tmp": 4, "shuffl": 4, "_old": 4, "between": 4, "renam": 4, "re": 4, "interfac": 4, "licens": 3, "geolog": 2, "survei": 2, "softwar": 2, "user": 2, "notic": 2, "conduct": 3}, "objects": {"nldi_crawler": [[4, 0, 0, "-", "cli"], [4, 0, 0, "-", "db"], [4, 0, 0, "-", "ingestor"], [4, 0, 0, "-", "source"]], "nldi_crawler.db": [[4, 1, 1, "", "DataAccessLayer"], [4, 1, 1, "", "NLDI_Base"]], "nldi_crawler.db.DataAccessLayer": [[4, 2, 1, "", "Session"], [4, 2, 1, "", "connect"], [4, 2, 1, "", "disconnect"]], "nldi_crawler.ingestor": [[4, 1, 1, "", "StrippedString"], [4, 4, 1, "", "create_tmp_table"], [4, 4, 1, "", "ingest_from_file"], [4, 4, 1, "", "install_data"]], "nldi_crawler.ingestor.StrippedString": [[4, 3, 1, "", "cache_ok"], [4, 3, 1, "", "impl"], [4, 2, 1, "", "process_bind_param"]], "nldi_crawler.source": [[4, 1, 1, "", "CrawlerSource"], [4, 4, 1, "", "download_geojson"], [4, 4, 1, "", "list_sources"], [4, 4, 1, "", "validate_src"]], "nldi_crawler.source.CrawlerSource": [[4, 2, 1, "", "table_name"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:attribute", "4": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "function", "Python function"]}, "titleterms": {"code": 0, "conduct": 0, "contribut": 1, "licens": 2, "u": [], "": [], "geolog": [], "survei": [], "softwar": [], "user": [], "right": [], "notic": [], "ss": [], "delin": [], "document": [], "sourc": [5, 6], "tabl": 5, "exampl": [5, 6], "usag": 6, "config": 6, "option": 6, "1": 6, "2": 6, "displai": 6, "valid": 6, "download": 6, "data": 6, "local": 6, "disk": 6, "ingest": 6, "workflow": 7, "sequenc": 7, "diagram": 7, "annot": 7, "nldi": 3, "crawler": 3, "function": 4, "refer": 4}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Code of Conduct": [[0, "code-of-conduct"]], "Sources Table": [[5, "sources-table"]], "Example": [[5, "example"]], "Usage Examples": [[6, "usage-examples"]], "CONFIG Option 1": [[6, "config-option-1"]], "CONFIG Option #2": [[6, "config-option-2"]], "Display a Source": [[6, "display-a-source"]], "Validate a Source": [[6, "validate-a-source"]], "Download Source Data to Local Disk": [[6, "download-source-data-to-local-disk"]], "Ingesting Source Data": [[6, "ingesting-source-data"]], "Contributing": [[1, "contributing"]], "Function Reference": [[4, "module-nldi_crawler.source"]], "NLDI Crawler": [[3, "nldi-crawler"]], "LICENSE": [[2, "license"]], "Workflow": [[7, "workflow"]], "Sequence Diagram": [[7, "sequence-diagram"]], "Annotations": [[7, "annotations"]]}, "indexentries": {"crawlersource (class in nldi_crawler.source)": [[4, "nldi_crawler.source.CrawlerSource"]], "dataaccesslayer (class in nldi_crawler.db)": [[4, "nldi_crawler.db.DataAccessLayer"]], "nldi_base (class in nldi_crawler.db)": [[4, "nldi_crawler.db.NLDI_Base"]], "session() (nldi_crawler.db.dataaccesslayer method)": [[4, "nldi_crawler.db.DataAccessLayer.Session"]], "strippedstring (class in nldi_crawler.ingestor)": [[4, "nldi_crawler.ingestor.StrippedString"]], "cache_ok (nldi_crawler.ingestor.strippedstring attribute)": [[4, "nldi_crawler.ingestor.StrippedString.cache_ok"]], "connect() (nldi_crawler.db.dataaccesslayer method)": [[4, "nldi_crawler.db.DataAccessLayer.connect"]], "create_tmp_table() (in module nldi_crawler.ingestor)": [[4, "nldi_crawler.ingestor.create_tmp_table"]], "disconnect() (nldi_crawler.db.dataaccesslayer method)": [[4, "nldi_crawler.db.DataAccessLayer.disconnect"]], "download_geojson() (in module nldi_crawler.source)": [[4, "nldi_crawler.source.download_geojson"]], "impl (nldi_crawler.ingestor.strippedstring attribute)": [[4, "nldi_crawler.ingestor.StrippedString.impl"]], "ingest_from_file() (in module nldi_crawler.ingestor)": [[4, "nldi_crawler.ingestor.ingest_from_file"]], "install_data() (in module nldi_crawler.ingestor)": [[4, "nldi_crawler.ingestor.install_data"]], "list_sources() (in module nldi_crawler.source)": [[4, "nldi_crawler.source.list_sources"]], "module": [[4, "module-nldi_crawler.cli"], [4, "module-nldi_crawler.db"], [4, "module-nldi_crawler.ingestor"], [4, "module-nldi_crawler.source"]], "nldi_crawler.cli": [[4, "module-nldi_crawler.cli"]], "nldi_crawler.db": [[4, "module-nldi_crawler.db"]], "nldi_crawler.ingestor": [[4, "module-nldi_crawler.ingestor"]], "nldi_crawler.source": [[4, "module-nldi_crawler.source"]], "process_bind_param() (nldi_crawler.ingestor.strippedstring method)": [[4, "nldi_crawler.ingestor.StrippedString.process_bind_param"]], "table_name() (nldi_crawler.source.crawlersource method)": [[4, "nldi_crawler.source.CrawlerSource.table_name"]], "validate_src() (in module nldi_crawler.source)": [[4, "nldi_crawler.source.validate_src"]]}})